<?php
date_default_timezone_set('Asia/Jakarta');

$host = "117.103.69.22";
$user = "kocak";
$password = "gaming";
$database = "billkapten";
$koneksi = mysqli_connect($host, $user, $password, $database);

if (mysqli_connect_errno()) {
    die('Koneksi ke database gagal: ' . mysqli_connect_error());
}

// === 1. Ambil data dari tb_gundala ===
$query = mysqli_query($koneksi, "
    SELECT g.id_log, g.kode_user, g.paket, g.telp_user 
    FROM tb_gundala g 
    WHERE g.kode_user IN ('KM0001','KM0003','KM0004','KM0005','KM0007','KM0009','KM0010','KM0011','KM0012','KM0013','KM0015','KM0017','KM0018','KM0014','KM0020','KM0023','KM0028','KM0027','KM0025','KM0021','KM0019','KM0029','KM0033','KM0034','KM0032','KM0036','KM0035','KM0038','KM0043','KM0040','KM0041','KM0046','KM0049','KM0051','KM0048','KM0056','KM0054','KM0058','KM0057','KM0060','KM0063','KM0062','KM0069','KM0067','KM0068','KM0066','KM0070','KM0073','KM0072','KM0064','KM0076','KM0075','KM0077','KM0071','KM0078','KM0079','KM0055','KM0087','KM0088','KM0089','KM0093','KM0095','KM0094','KM0097','KM0098','KM0101','KM0104','KM0102','KM0100','KM0105','KM0108','KM0109','KM0116','KM0119','KM0121','KM0122','KM0123','KM0127','KM0117','KM0125','KM0115','KM0130','KM0134','KM0129','KM0137','KM0139','KM0133','KM0138','KM0140','KM0118','KM0142','KM0143','KM0145','KM0146','KM0154','KM0153','KM0150','KM0158','KM0113','KM0163','KM0148','KM0164','KM0155','KM0168','KM0152','KM0170','KM0159','KM0162','KM0147','KM0165','KM0136','KM0179','KM0178','KM0174','KM0184','KM0185','KM0192','KM0186','KM0187','KM0144','KM0190','KM0195','KM0189','KM0196','KM0197','KM0199','KM0198','KM0201','KM0157','KM0111','KM0203','KM0202','KM0205','KM0204','KM0206','KM0207','KM0209','KM0213','KM0220','KM0219','KM0221','KM0218','KM0211','KM0222','KM0226','KM0227','KM0233','KM0240','KM0237','KM0232','KM0238','KM0236','KM0239','KM0244','KM0241','KM0245','KM0225','KM0246','KM0250','KM0260','KM0254','KM0261','KM0251','KM0230','KM0266','KM0267','KM0265','KM0268','KM0272','KM0273','KM0270','KM0274','KM0271','KM0281','KM0280','KM0284','KM0277','KM0287','KM0288','KM0283','KM0275','KM0286','KM0291','KM0297','KM0290','KM0285','KM0302','KM0279','KM0304','KM0305','KM0309','KM0311','KM0313','KM0308','KM0320','KM0318','KM0315','KM0314','KM0326','KM0310','KM0323','KM0276','KM0325','KM0312','KM0328','KM0322','KM0327','KM0269','KM0338','KM0324','KM0332','KM0336','KM0340','KM0341','KM0319','KM0345','KM0348','KM0349','KM0334','KM0337','KM0357','KM0353','KM0346','KM0352','KM0278','KM0365','KM0372','KM0369','KM0354','KM0331','KM0368','KM0376','KM0371','KM0370','KM0380','KM0360','KM0386','KM0377','KM0381','KM0374','KM0387','KM0329','KM0362','KM0379','KM0384','KM0394','KM0382','KM0395','KM0391','KM0378','KM0396','KM0383','KM0403','KM0404','KM0389','KM0257','KM0406','KM0407','KM0410','KM0390','KM0408','KM0411','KM0414','KM0359','KM0417','KM0419','KM0402','KM0409','KM0420','KM0427','KM0431','KM0433','KM0432','KM0435','KM0424','KM0434','KM0436','KM0439','KM0441','KM0440','KM0425','KM0438','KM0447','KM0448','KM0453','KM0451','KM0449','KM0457','KM0456','KM0459','KM0455','KM0442','KM0443','KM0462','KM0422','KM0466','KM0469','KM0454','KM0465','KM0474','KM0471','KM0468','KM0475','KM0479','KM0476','KM0478','KM0481','KM0472','KM0484','KM0485','KM0486','KM0492','KM0493','KM0495','KM0497','KM0499','KM0500','KM0498','KM0505','KM0507','KM0506','KM0509','KM0508','KM0510','KM0405','KM0503','KM0504','KM0515','KM0516','KM0519','KM0518','KM0521','KM0520','KM0523','KM0525','KM0526','KM0527','KM0529','KM0530','KM0528','KM0532','KM0533','KM0538','KM0537','KM0534','KM0539','KM0543','KM0544','KM0545','KM0548','KM0546','KM0517','KM0553','KM0552','KM0547','KM0554','KM0558','KM0559','KM0560','KM0557','KM0563','KM0564','KM0565','KM0555','KM0567','KM0566','KM0570','KM0572','KM0575','KM0573','KM0577','KM0571','KM0576','KM0579','KM0581','KM0584','KM0585','KM0587','KM0588','KM0589','KM0586','KM0593','KM0595','KM0597','KM0600','KM0598','KM0603','KM0604','KM0602','KM0592','KM0605','KM0606','KM0599','KM0609','KM0611','KM0616','KM0613','KM0617','KM0620','KM0601','KM0621','KM0610','KM0626','KM0630','KM0629','KM0631','KM0632','KM0636','KM0638','KM0635','KM0642','KM0637','KM0639','KM0645','KM0649','KM0647','KM0652','KM0654','KM0648','KM0656','KM0651','KM0650','KM0657','KM0660','KM0661','KM0663','KM0664','KM0669','KM0667','KM0666','KM0668','KM0673','KM0676','KM0674','KM0679','KM0678','KM0681','KM0684','KM0685','KM0688','KM0677','KM0689','KM0690','KM0687','KM0696','KM0686','KM0680','KM0697','KM0694','KM0709','KM0701','KM0693','KM0702','KM0698','KM0708','KM0700','KM0713','KM0712','KM0705','KM0717','KM0703','KM0716','KM0714','KM0707','KM0721','KM0729','KM0723','KM0720','KM0733','KM0734','KM0727','KM0735','KM0738','KM0742','KM0745','KM0741','KM0747','KM0746','KM0730','KM0751','PAS005','KM0752','KM0743','KM0756','KM0749','KM0761','KM0764','KM0772','KM0763','KM0769','KM0774','KM0779','KM0781','KM0754','KM0782','KM0780','KM0715','KM0785','KM0787','KM0773','KM0786','KM0771','KM0778','KM0789','KM0791','KM0793','KM0792','KM0797','KM0801','KM0800','KM0803','KM0805','KM0809','KM0808','KM0798','KM0806','KM0811','KM0813','KM0815','KM0814','KM0820','KM0817','KM0822','KM0825','KM0826','KM0830','KM0828','KM0823','KM0831','KM0832','KM0834','KM0833','KM0835','KM0836','KM0839','KM0838','KM0840','KM0841','KM0844','KM0812','KM0848','KM0849','KM0851','KM0852','KM0856','KM0853','KM0859','KM0850','KM0858','KM0862','KM0860','KM0871','KM0873','KM0875','KM0868','KM0866','KM0867','KM0879','KM0878','KM0880','KM0883','KM0884','KM0885','KM0886','KM0882','KM0887','KM0889','KM0888','KM0890','KM0894','KM0893','KM0898','KM0896','KM0901','KM0897','KM0895','KM0903','KM0904','KM0908','KM0907','KM0911','KM0913','KM0914','KM0920','KM0924','KM0921','KM0922','KM0925','KM0927','KM0928','KM0929','KM0930','KM0931','KM0918','KM0932','KM0936','KM0937','KM0943','KM0945','KM0938','KM0950','KM0939','KM0953','KM0935','KM0957','KM0958','KM0951','KM0949','KM0941','KM0959','KM0960','KM0963','KM0956','KM0966','KM0923','KM0947','KM0919','KM0970','KM0972','KM0971','KM0976','KM0977','KM0975','KM0974','KM0978','KM0973','KM0980','KM0981','KM0982','KM0969','KM0987','KM0988','KM0996','KM0989','KM0991','KM0997','KM0999','KM0998','KM1004','KM1003','KM1005','KM1006','KM1011','KM1010','KM1008','KM1009','KM1007','KM1012','KM1013','KM1014','KM1015','KM1020','KM1021','KM1018','KM1023','KM1026','KM1027','KM1025','KM1030','KM1028','KM0986','KM1033','KM1035','KM1043','KM1037','KM1041','KM1044','KM1034','KM1040','KM1046','KM1047','KM1050','KM1053','KM1052','KM1056','KM1057','KM1054','KM1065','KM1063','KM1064','KM1066','KM1067','KM1068','KM1070','KM1072','KM1073','KM1076','KM1079','KM1080','KM1077','KM1082','KM1084','KM1088','KM1089','KM1093','KM1098','KM1097','KM1099','KM1085','KM1100','KM1103','KM1092','KM1086','KM1107','KM1091','KM1109','KM1110','KM1111','KM1090','KM1112','KM1113','KM1116','KM1083','KM1117','KM1120','KM1122','KM1125','KM1126','KM1127','KM1128','KM1130','KM1129','KM1133','KM1134','KM1135','KM1136','KM1137','KM1139','KM1142','KM1147','KM1151','KM1150','KM1148','KM1158','KM1159','KM1160','KM1163','KM1144','KM1162','KM1166','KM1168','KM1167','KM1175','KM1174','KM1176','KM1177','KM1178','KM1180','KM1184','KM1183','KM1185','KM1189','KM1187','KM1191','KM1193','KM1194','KM1179','KM1186','KM1199','KM1198','KM1141','KM1203','KM1204','KM1206','KM1209','KM1212','KM1211','KM1213','KM1215','KM1219','KM1216','KM1218','KM1223','KM1227','KM1229','KM1231','KM1235','KM1236','KM1234','KM1233','KM1237','KM1232','KM1239','KM1240','KM1243','KM1244','KM1242','KM1250','KM1246','KM1253','KM1252','KM1238','KM1247','KM1257','KM1258','KM1259','KM1262','KM1263','KM1266','KM1267','KM1268','KM1269','KM1272','KM1271','KM1275','KM1277','KM1276','KM1279','KM1280','KM1281','KM1283','KM1282','KM1291','KM1286','KM1292','KM1290','KM1293','KM1285','KM1299','KM1303','KM1301','KM1297','KM1309','KM1311','KM1310','KM1313','KM1314','KM1316','KM1318','KM1302','KM1323','KM1325','KM1327','KM1332','KM1331','KM1329','KM1326','KM1334','KM1333','KM1338','KM1341','KM1344','KM1343','KM1345','KM1346','KM1342','KM1347','KM1349','KM1351','KM1352','KM1339','KM1355','KM1350','KM1357','KM1360','KM1356','KM1359','KM1368','KM1354','KM1373','KM1369','KM1379','KM1367','KM1288','KM1378','KM1375','KM1376','KM1381','KM1382','KM1384','KM1385','KM1386','KM1391','KM1393','KM1397','KM1400','KM1399','KM1403','KM1404','KM1407','KM1409','KM1410','KM1406','KM1411','KM1408','KM1414','KM1416','KM1412','KM1415','KM1419','KM1418','KM1420','KM1421','KM1422','KM1425','KM1424','KM1427','KM1430','KM1432','KM1436','KM1435','KM1434','KM1438','KM1440','KM1441','KM1437','KM1448','KM1449','KM1452','KM1454','KM1458','KM1461','KM1463','KM1464','KM1471','KM1472','KM1468','KM1465','KM1474','KM1446','KM1481','KM1483','KM1456','KM1484','KM1482','KM1486','KM1487','KM1489','KM1490','KM1492','KM1493','KM1496','KM1498','KM1494','KM1500','KM1499','KM1506','KM1509','KM1510','KM1511','KM1505','KM1507','KM1516','KM1513','KM1512','KM1517','KM1519','KM1520','KM1522','KM1515','KM1526','KM1532','KM1533','KM1521','KM1527','KM1535','KM1531','KM1534','KM1538','KM1540','KM1529','KM1541','KM1539','KM1542','KM1546','KM1551','KM1537','KM1556','KM1555','KM1554','KM1558','KM1561','KM1562','KM1564','KM1563','KM1566','KM1574','KM1573','KM1572','KM1577','KM1576','KM1580','KM1581','KM1582','KM1583','KM1584','KM1585','KM1587','KM1588','KM1593','KM1590','KM1594','KM1596','KM1595','KM1601','KM1606','KM1602','KM1608','KM1597','KM1612','KM1610','KM1614','KM1615','KM1618','KM1620','KM1616','KM1622','KM1621','KM1623','KM1625','KM1624','KM1629','KM1631','KM1626','KM1634','KM1635','KM1636','KM1640','KM1641','KM1643','KM1642','KM1646','KM1647','KM1648','KM1649','KM1650','KM1651','KM1653','KM1657','KM1658','KM1654','KM1659','KM1663','KM1661','KM1664','KM1662','KM1665','KM1668','KM1669','KM1667','KM1670','KM1671','KM1673','KM1675','KM1677','KM1683','KM1684','KM1685','KM1686','KM1660','KM1681','KM1680','KM1679','KM1689','KM1695','KM1692','KM1690','KM1694','KM1693','KM1691','KM1698','KM1699','KM1700','KM1703','KM1702','KM1706','KM1707','KM1709','KM1711','KM1714','KM1719','KM1715','KM1718','KM1722','KM1721','KM1724','KM1728','KM1688','KM1727','KM1729','KM1731','KM1733','KM1734','KM1735','KM1732','KM1736','KM1738','KM1740','KM1739','KM1723','KM1745','KM1746','KM1744','KM1743','KM1747','KM1750','KM1756','KM1754','KM1753','KM1760','KM1759','KM1765','KM1763','KM1772','KM1768','KM1769','KM1777','KM1771','KM1780','KM1775','KM1781','KM1778','KM1779','KM1783','KM1776','KM1785','KM1789','KM1791','KM1784','KM1797','KM1794','KM1798','KM1801','KM1804','KM1805','KM1803','KM1810','KM1807','KM1800','KM1811','KM1809','KM1816','KM1814','KM1815','KM1812','KM1822','KM1821','KM1825','KM1787','KM1826','KM1823','KM1827','KM1824','KM1828','KM1832','KM1831','KM1834','KM1830','KM1837','KM1836','KM1839','KM1843','KM1842','KM1841','KM1845','KM1849','KM1850','KM1847','KM1848','KM1855','KM1856','KM1859','KM1857','KM1861','KM1864','KM1866','KM1865','KM1870','KM1868','KM1867','KM1874','KM1871','KM1879','KM1877','KM1882','KM1873','KM1885','KM1878','KM1887','KM1890','KM1891','KM1893','KM1896','KM1899','KM1844','KM1901','KM1902','KM1906','KM1904','KM1907','KM1909','KM1913','KM1903','KM1914','KM1918','KM1917','KM1916','KM1920','KM1923','KM1922','KM1924','KM1925','KM1926','KM1927','KM1930','KM1932','KM1935','KM1938','KM1939','KM1876','KM1942','KM1933','KM1945','KM1944','KM1947','KM1950','KM1954','KM1952','KM1955','KM1956','KM1957','KM1960','KM1959','KM1962','KM1958','KM1966','KM1965','KM1964','KM1969','KM1968','KM1967','KM1971','KM1973','KM1975','KM1974','KM1980','KM1983','KM1979','KM1987','KM1984','KM1976','KM1982','KM1986','KM1990','KM1988','KM1992','KM1993','KM1996','KM1997','KM1994','KM2001','KM2004','KM2005','KM2008','KM2003','KM2009','KM2010','KM2011','KM2013','KM2014','KM2015','KM2019','KM2018','KM2022','KM2021','KM2023','KM2030','KM2027','KM2035','KM2040','KM2049','KM2046','KM2045','KM2064','KM2043','KM2033','KM2072','KM2044','KM2055','KM2057','KM2078','KM2066','KM2079','KM2074','KM2069','KM2068','KM2000','KM2060','KM2017','KM2053','KM2059','KM2073','KM2076','KM2067','KM2088','KM2089','KM2051','KM2077','KM2090','KM2087','KM2083','KM2096','KM2086','KM2095','KM2097','KM2037','KM2093','KM2099','KM2098','KM2100','KM2102','KM2106','KM2108','KM2105','KM2104','KM2110','KM2113','KM2111','KM2084','KM2117','KM2120','KM2119','KM2124','KM2116','KM2121','KM2123','KM2128','KM2129','KM2131','KM2132','KM2134','KM2135','KM2137','KM2138','KM2136','KM2144','KM2142','KM2145','KM2146','KM2148','KM2140','KM2149','KM2155','KM2152','KM2156','KM2157','KM2158','KM2159','KM2160','KM2163','KM2161','KM2166','KM2167','KM2165','KM2170','KM2172','KM2173','KM2175','KM2176','KM2180','KM2177','KM2183','KM2182','KM2186','KM2187','KM2188','KM2191','KM2193','KM2194','KM2195','KM2197','KM2154','KM2200','KM2199','KM2202','KM2203','KM2207','KM2205','KM2209','KM2210','KM2212','KM2216','KM2222','KM2214','KM2223','KM2213','KM2228','KM2227','KM2229','KM2230','KM2233','KM2236','KM2237','KM2238','KM2234','KM2235','KM2218','KM2231','KM2239','KM2243','KM2248','KM2246','KM2249','KM2250','KM2252','KM2247','KM2253','KM2255','KM2256','KM2258','KM2241','KM2257','KM2260','KM2261','KM2263','KM2259','KM2266','KM2265','KM2267','KM2269','KM2270','KM2278','KM2279','KM2281','KM2282','KM2284','KM2283','KM2285','KM2286','KM2288','KM2289','KM2287','KM2290','KM2291','KM2292','KM2294','KM2295','KM2297','KM2298','KM2296','KM2300','KM2299','KM2240','KM2305','KM2307','KM2309','KM2310','KM2308','KM2312','KM2314','KM2313','KM2315','KM2318','KM2319','KM2320','KM2321','KM2325','KM2328','KM2334','KM2332','KM2336','KM2317','KM2337','KM2338','KM2345','KM2342','KM2341','KM2331','KM2367','KM2369','KM2359','KM2391','KM2361','KM2340','KM2353','KM2430','KM2383','KM2423','KM2380','KM2394','KM2354','KM2355','KM2389','KM2384','KM2363','KM2436','KM2397','KM2348','KM2349','KM2368','KM2396','KM2376','KM2433','KM2358','KM2385','KM2437','KM2347','KM2426','KM2438','KM2366','KM2375','KM2440','KM2439','KM2405','KM2378','KM2398','KM2422','KM2441','KM2427','KM2399','KM2420','KM2443','KM2428','KM2401','KM2444','KM2446','KM2432','KM2413','KM2447','KM2382','KM2448','KM2407','KM2449','KM2352','KM2451','KM2379','KM2350','KM2452','KM2455','KM2457','KM2409','KM2458','KM2395','KM2434','KM2400','KM2346','KM2462','KM2425','KM2465','KM2469','KM2468','KM2471','KM2470','KM2472','KM2473','KM2459','KM2476','KM2483','KM2386','KM2480','KM2477','KM2487','KM2485','KM2486','KM2488','KM2484','KM2491','KM2489','KM2496','KM2495','KM2497','KM2498','KM2500','KM2501','KM2492','KM2499','KM2502','KM2504','KM2509','KM2510','KM2513','KM2516','KM2515','KM2512','KM2519','KM2514','KM2518','KM2521','KM2522','KM2523','KM2526','KM2525','KM2527','KM2530','KM2534','KM2533','KM2528','KM2537','KM2538','KM2410','KM2540','KM2506','KM2511','KM2542','KM2544','KM2545','KM2546','KM2549','KM2551','KM2550','KM2553','KM2554','KM2556','KM2482','KM2558','KM2561','KM2560','KM2564','KM2563','KM2568','KM2570','KM2571','KM2567','KM2574','KM2572','KM2573','KM2575','KM2578','KM2577','KM2579','KM2584','KM2581','KM2589','KM2590','KM2586','KM2591','KM2593','KM2592','KM2596','KM2598','KM2601','KM2595','KM2604','KM2608','KM2606','KM2609','KM2612','KM2603','KM2611','KM2605','KM2614','KM2610','KM2622','KM2619','KM2620','KM2623','KM2617','KM2621','KM2624','KM2625','KM2627','KM2631','KM2632','KM2629','KM2633','KM2634','KM2635','KM2638','KM2637','KM2628','KM2639','KM2643','KM2641','KM2645','KM2648','KM2644','KM2649','KM2646','KM2626','KM2651','KM2618','KM2653','KM2654','KM2655','KM2656','KM2657','KM2659','KM2664','KM2665','KM2662','KM2663','KM2666','KM2669','KM2667','KM2668','KM2671','KM2642','KM2673','KM2674','KM2675','KM2677','KM2679','KM2678','KM2682','KM2681','KM2686','KM2689','KM2690','KM2693','KM2652','KM2692','KM2695','KM2683','KM2697','KM2694','KM2699','KM2700','KM2703','KM2702','KM2704','KM2706','KM2705','KM2708','KM2710','KM2711','KM2714','KM2713','KM2718','KM2717','KM2719','KM2716','KM2724','KM2723','KM2728','KM2729','KM2730','KM2731','KM2732','KM2736','KM2737','KM2738','KM2742','KM2744','KM2747','KM2748','KM2750','KM2749','KM2754','KM2755','KM2756','KM2753','KM2760','KM2743','KM2758','KM2746','KM2761','KM2762','KM2763','KM2765','KM2766','KM2769','KM2771','KM2775','KM2776','KM2784','KM2783','KM2785','KM2789','KM2792','KM2793','KM2798','KM2795','KM2799','KM2796','KM2794','KM2800','KM2802','KM2801','KM2804','KM2805','KM2806','KM2809','KM2811','KM2808','KM2812','KM2814','KM2816','KM2817','KM2820','KM2819','KM2821','KM2822','KM2824','KM2823','KM2825','KM2829','KM2831','KM2833','KM2835','KM2836','KM2837','KM2838','KM2840','KM2839','KM2841','KM2843','KM2844','KM2846','KM2845','KM2847','KM2848','KM2852','KM2859','KM2860','EDKM0001','KM2864','KM2863','KM2862','KM2853','KM2861','KM2865','KM2869','KM2871','KM2873','KM2866','KM2874','KM2879','KM2880','KM2877','KM2876','KM2878','KM2886','KM2887','KM2888','KM2882','KM2889','KM2891','KM2890','KM2892','KM2895','KM2893','KM2897','KM2898','KM2899','KM2901','KM2902','KM2904','KM2903','KM2905','KM2907','KM2908','KM2911','KM2912','KM2909','KM2910','KM2913','KM2916','KM2917','KM2920','KM2921','KM2919','KM2918','KM2924','KM2928','KM2925','KM2930','KM2932','KM2931','KM2933','KM2937','KM2940','KM2938','KM2939','KM2942','KM2943','KM2944','KM2946','KM2947','KM2949','KM2950','KM2956','KM2955','KM2958','KM2960','KM2962','KM2964','KM2965','KM2969','KM2970','KM2972','KM2948','KM2976','KM2974','KM2981','KM2980','KM2983','KM2985','KM2988','KM2989','KM2986','KM2990','KM2992','KM2994','KM2995','KM2998','KM2996','KM2979','KM2999','KM3002','KM3000','KM3004','KM3003','KM3005','KM3007','KM3006','KM3011','KM3012','KM3013','KM3016','KM3017','KM2883','KM3019','KM3021','KM3018','KM3024','KM3025','KM3026','KM3027','KM3028','KM3029','KM3031','KM3032','KM3034','KM3038','KM3040','KM3035','KM3042','KM3041','KM3043','KM3048','KM3047','KM3033','KM3052','KM3053','KM3055','KM3056','KM3057','KM3061','KM3058','KM3064','KM3060','KM3065','KM3063','KM3066','KM3059','KM3069','KM3072','KM3073','KM3074','KM3076','KM3079','KM3080','KM3081','KM3078','KM3083','KM3084','KM3085','KM3086','KM3088','KM3090','KM3070','KM3092','KM3062','KM3093','KM3094','KM3095','KM3096','KM3097','KM3100','KM3103','KM3099','KM3098','KM3106','KM3105','KM3109','KM3108','KM3107','KM3112','KM3111','KM3113','KM3114','KM3115','KM3119','KM3118','KM3120','KM3122','KM3123','KM3121','KM3128','KM3130','KM3131','KM3132','KM3134','KM3133','KM3137','KM3136','KM3139','KM3138','KM3140','KM3141','KM3142','KM3143','KM3145','EDKM0003','KM3144','KM3148','KM3151','KM3147','KM3150','KM3154','KM3156','KM3158','KM3159','KM3160','KM3161','KM3164','KM3167','KM3168','KM3170','KM3171','KM3172','KM3174','KM3175','KM3173','KM3176','KM3177','KM3180','KM3179','KM3181','KM3182','KM3184','KM3183','KM3185','KM3187','KM3188','KM3186','KM3191','KM3192','KM3193','KM3194','KM3195','KM3196','KM3197','KM3198','KM3200','KM3202','KM3201','KM3203','KM3205','KM3208','KM3209','KM3212','KM3210','KM3207','KM3215','KM3218','KM3219','KM3221','KM3222','KM3224','KM3225','KM3228','KM3227','KM3226','KM3230','KM3234','KM3236','KM3237','KM3238','KM3239','KM3241','KM3242','KM3244','KM3245','KM3247','KM3248','KM3251','KM3252','KM3253','KM3257','KM3255','KM3259','KM3260','KM3262','KM3264','KM3263','KM3265','KM3267','KM3268','KM3271','KM3272','KM3273','KM3274','KM3275','KM3277','KM3280','KM3281','KM3284','KM3283','KM3285','KM3287','KM3288','KM3290','KM3291','KM3292','KM3293','KM3294','KM3296','KM3295','KM3297','KM3299','KM3301','KM3300','KM3302','KM3304','KM3303','KM3306','KM3305','KM3307','KM3308','KM3309','KM3289','KM3310','KM3312','KM3313','KM3316','KM3317','KM3319','KM3318','KM3321','KM3323','KM3330','KM3325','KM3326','KM3333','KM3332','KM3334','KM3337','KM3336','KM3338','KM3340','KM3341','KM3339','KM3345','KM3335','KM3344','KM3352','KM3349','KM3353','KM3350','KM3355','KM3356','KM3357','KM3361','KM3359','KM3360','KM3362','KM3366','KM3367','KM3364','KM3365','KM3369','KM3368','KM3372','KM3373','KM3374','KM3376','KM3375','KM3379','KM3384','KM3386','KM3381','KM3383','KM3387','KM3388','KM3392','KM3391','KM3389','KM3390','KM3394','KM3396','KM3397','KM3398','KM3399','KM3401','KM3403','KM3405','KM3404','KM3406','KM3410','KM3411','KM3412','KM3413','KM3409','KM3416','KM3417','KM3421','KM3419','KM3423','KM3418','KM3414','KM3428','KM3431','KM3430','KM3433','KM3435','KM3432','KM3437','KM3438','KM3436','KM3426','KM3441','KM3440','KM3442','KM3445','KM3447','KM3446','KM3449','KM3450','KM3452','KM3448','KM3453','KM3454','KM3455','KM3402','KM3456','KM3457','KM3459','KM3461','KM3460','KM3468','KM3467','KM3466','KM3469','KM3470','KM3471','KM3474','KM3479','KM3478','KM3480','KM3482','KM3483','KM3484','KM3489','KM3490','KM3488','KM3492','KM3491','KM3493','KM3496','KM3499','KM3497','KM3503','KM3500','KM3498','KM3502','KM3505','KM3506','KM3507','KM3510','KM3508','KM3514','KM3513','KM3517','KM3522','KM3519','KM3523','KM3525','KM3527','KM3526','KM3518','KM3530','KM3531','KM3532','KM3512','KM3534','KM3533','KM3535','KM3536','KM3538','KM3540','KM3537','KM3545','KM3542','KM3546','KM3547','KM3549','KM3550','KM3548','KM3552','KM3553','KM3555','KM3557','KM3556','KM3559','KM3558','KM3560','KM3562','KM3561','KM3564','KM3566','KM3567','KM3568','KM3569','KM3570','KM3573','KM3572','KM3571','KM3574','KM3575','KM3576','KM3577','KM3578','KM3580','KM3581','KM3582','KM3583','KM3588','KM3587','KM3591','KM3589','KM3590','KM3593','KM3595','KM3594','KM3596','KM3600','KM3601','KM3604','KM3605','KM3606','KM3608','KM3610','KM3598','KM3613','KM3615','KM3617','KM3618','KM3619','KM3620','KM3621','KM3622','KM3624','KM3627','KM3628','KM3629','KM3630','KM3632','KM3635','KM3639','KM3636','KM3637','KM3638','KM3643','KM3646','KM3647','KM3640','KM3641','KM3645','KM3649','KM3644','KM3650','KM3654','KM3652','KM3653','KM3655','KM3656','KM3659','KM3658','KM3661','KM3663','KM3664','KM3665','KM3666','KM3667','KM3669','KM3668','KM3671','KM3673','KM3674','KM3675','KM3676','KM3679','KM3682','KM3681','KM3680','KM3683','KM3685','KM3684','KM3688','KM3687','KM3689','KM3686','KM3691','KM3692','KM3693','KM3690','KM3695','KM3696','KM3697','KM3698','KM3699','KM3700','KM3703','KM3705','KM3701','KM3707','KM3708','KM3709','KM3712','KM3713','KM3714','KM3715','KM3720','KM3722','KM3724','KM3718','KM3726','KM3728','KM3729','KM3731','KM3732','KM3734','KM3736','KM3739','KM3737','KM3740','KM3741','KM3743','KM3746','KM3749','KM3748','KM3750','KM3752','KM3733','KM3754','KM3756','KM3759','KM3762','KM3761','KM3755','KM3758','KM3767','KM3765','KM3769','KM3764','KM3771','KM3773','KM3772','KM3774','KM3778','KM3775','KM3779','KM3780','KM3777','KM3782','KM3781','KM3783','KM3788','KM3786','KM3785','KM3791','KM3796','KM3794','KM3797','KM3790','KM3800','KM3801','KM3805','KM3810','KM3808','KM3804','KM3806','KM3813','KM3812','KM3807','KM3789','KM3817','KM3815','KM3820','KM3823','KM3821','KM3827','KM3826','KM3830','KM3831','KM3832','KM3836','KM3835','KM3833','KM3838','KM3819','KM3841','KM3842','KM3846','KM3845','KM3848','KM3850','KM3852','KM3849','KM3854','KM3855','KM3857','KM3856','KM3858','KM3859','KM3863','KM3865','KM3862','KM3867','KM3869','KM3870','KM3868','KM3872','KM3871','KM3874','KM3875','KM3876','KM3879','KM3878','KM3886','KM3885','KM3889','KM3888','KM3891','KM3892','KM3893','KM3894','KM3895','KM3897','KM3899','KM3904','KM3902','KM3896','KM3906','KM3907','KM3916','KM3910','KM3917','KM3913','KM3909','KM3918','KM3905','KM3921','KM3925','KM3926','KM3924','KM3928','KM3931','KM3930','KM3932','KM3923','KM3929','KM3937','KM3933','KM3935','KM3901','KM3943','KM3944','KM3941','KM3946','KM3908','KM3945','KM3942','KM3950','KM3938','KM3947','KM3953','KM3949','KM3952','KM3958','KM3966','KM3961','KM3960','KM3956','KM3957','KM3968','KM3955','KM3963','KM3969','KM3970','KM3971','KM3967','KM3972','KM3776','KM3973','KM3978','KM3976','KM3977','KM3986','KM3975','KM3981','KM3982','EDKM0004','KM3991','KM3992','KM3996','KM3994','KM3993','KM3997','KM4000','KM3999','KM3998','KM4002','KM4001','KM4003','KM4004','KM4007','KM3979','KM4006','KM4012','KM4016','KM4018','KM4015','KM4021','KM4008','KM4017','KM4019','KM4023','KP0002','KP0006','KP0011','KP0012','KP0004','KP0008','KP0007','KP0003','KP0016','KP0020','KP0017','KP0023','KP0026','KP0025','KP0031','KP0030','KP0035','KP0036','KP0032','KP0033','KP0034','KP0039','KP0043','KP0040','KP0041','KP0029','KP0045','KP0046','KP0050','KP0048','KP0054','KP0038','KP0055','KP0057','KP0052','KP0056','KP0060','KP0037','KP0058','KP0053','KP0061','KP0062','KP0063','KP0066','KP0068','KP0069','KP0070','KP0073','KP0074','KP0075','KP0077','KP0078','KP0079','KP0080','KP0081','KP0083','KP0084','KP0085','KP0086','KP0088','KP0089','KP0091','KP0092','KP0094','KP0097','KP0099','KP0100','KP0101','KP0102','KP0103','KP0104','KP0105','KP0106','KP0109','KP0112','KP0113','KP0115','KP0116','KP0119','KP0120','KP0121','KP0122','KP0123','KP0126','KP0127','KP0128','KP0129','KP0130','KP0131','KP0134','KP0135','KP0136','KP0138','KP0139','KP0140','KP0141','KP0142','KP0143','KP0144','KP0145','KP0148','KP0149','KP0150','KP0151','KP0152','KP0153','KP0156','KP0157','KP0158','KP0159','KP0160','KP0162','KP0163','KP0164','KP0166','KP0168','KP0170','KP0172','KP0173','KP0175','KP0176','KP0179','KP0180','KP0181','KP0182','KP0183','KP0184','KP0186','KP0189','KP0192','KP0193','KP0194','KP0195','KP0198','KP0199','KP0200','KP0201','KP0202','KP0203','KP0204','KP0206','KP0207','KP0208','KP0209','KP0210','KP0211','KP0214','KP0215','KP0216','KP0217','KP0219','KP0220','KP0221','KP0222','KP0223','KP0224','KP0225','KP0226','KP0229','KP0234','KP0235','KP0236','KP0237','KP0239','KP0240','KP0242','KP0244','KP0246','KP0247','KP0249','KP0251','KP0252','KP0254','KP0255','KP0256','KP0257','KP0258','KP0262','KP0263','KP0266','KP0269','KP0271','KP0272','KP0273','KP0274','KP0275','KP0276','KP0279','KP0280','KP0281','KP0284','KP0286','KP0290','KP0291','KP0292','KP0293','KP0295','KP0297','KP0298','KP0299','KP0302','KP0303','KP0305','KP0306','KP0307','KP0308','KP0309','KP0311','KP0313','KP0314','KP0316','KP0317','KP0318','KP0320','KP0322','KP0323','KP0329','KP0330','KP0331','KP0333','KP0334','KP0335','KP0336','KP0339','KP0340','KP0343','KP0345','KP0346','KP0350','KP0351','KP0352','KP0353','KP0354','KP0357','KP0359','KP0361','KP0362','KP0363','KP0364','KP0365','KP0366','KP0368','KP0369','KP0370','KP0372','KP0373','KP0377','KP0378','KP0379','KP0380','KP0381','KP0382','KP0384','KP0385','KP0386','KP0387','KP0388','KP0389','KP0390','KP0391','KP0392','KP0394','KP0396','KP0397','KP0398','KP0399','KP0400','KP0401','KP0402','KP0405','KP0407','KP0408','KP0409','KP0410','KP0411','KP0412','KP0414','KP0415','KP0416','KP0417','KP0418','KP0419','KP0421','KP0424','KP0425','KP0426','KP0427','KP0430','KP0431','KP0432','KP0433','KP0434','KP0435','KP0436','KP0437','KP0439','KP0440','KP0444','KP0445','KP0446','KP0447','KP0448','KP0449','KP0450','KP0451','KP0452','KP0453','KP0454','KP0455','KP0457','KP0458','KP0459','KP0461','KP0462','KP0463','KP0464','KP0465','KP0466','KP0468','KP0471','KP0473','KP0474','KP0475','KP0476','KP0478','KP0480','KP0482','KP0483','KP0484','KP0485','KP0486','KP0487','KP0489','KP0490','KP0491','KP0492','KP0494','KP0495','KP0497','KP0499','KP0501','KP0504','KP0506','KP0508','KP0509','KP0512','KP0514','KP0515','KP0516','KP0517','KP0518','KP0520','KP0521','KP0522','KP0523','KP0524','KP0525','KP0528','KP0529','KP0530','KP0532','KP0534','KP0535','KP0536','KP0540','KP0541','KP0542','KP0543','KP0544','KP0547','KP0548','KP0550','KP0554','KP0555','KP0556','KP0557','KP0558','KP0559','KP0560','KP0561','KP0562','KP0563','KP0564','KP0565','KP0567','KP0568','KP0569','KP0571','KP0572','KP0573','KP0574','KP0575','KP0576','KP0578','KP0579','KP0581','KP0582','KP0583','KP0584','KP0585','KP0586','KP0588','KP0590','KP0592','KP0593','KP0595','KP0596','KP0597','KP0599','KP0600','KP0601','KP0602','KP0603','KP0605','KP0606','KP0607','KP0609','KP0610','KP0611','KP0612','KP0614','KP0615','KP0616','KP0617','KP0618','KP0619','KP0622','KP0623','KP0625','KP0628','KP0629','KP0631','KP0632','KP0633','KP0634','KP0635','KP0636','KP0641','KP0642','KP0643','KP0645','KP0646','KP0647','KP0649','KP0651','KP0653','KP0654','KP0655','KP0657','KP0660','KP0661','KP0662','KP0663','KP0665','KP0666','KP0667','KP0668','KP0669','KP0670','KP0671','KP0672','KP0673','KP0674','KP0675','KP0676','KP0678','KP0679','KP0680','KP0682','KP0684','KP0687','KP0689','KP0690','KP0691','KP0692','KP0693','KP0694','KP0695','KP0696','KP0697','KP0698','KP0699','KP0700','KP0703','KP0704','KP0706','KP0708','KP0710','KP0712','KP0713','KP0714','KP0715','KP0716','KP0717','KP0718','KP0719','KP0720','KP0723','KP0724','KP0725','KP0726','KP0727','KP0729','KP0730','KP0731','KP0732','KP0733','KP0734','KP0735','KP0736','KP0737','KP0738','KP0740','KP0741','KP0742','KP0743','KP0744','KP0747','KP0748','KP0750','KP0751','KP0752','KP0753','KP0754','KP0755','KP0756','KP0757','KP0758','KP0759','KP0760','KP0762','KP0763','KP0764','KP0766','KP0767','KP0768','KP0769','KP0770','KP0771','KP0773','KP0774','KP0775','KP0776','KP0777','KP0779','KP0780','KP0781','KP0783','KP0785','KP0786','KP0787','KP0788','KP0789','KP0790','KP0792','KP0793','KP0794','KP0797','KP0798','KP0799','KP0800','KP0805','KP0806','KP0807','KP0808','KP0809','KP0810','KP0811','KP0812','KP0813','KP0814','KP0815','KP0816','KP0818','KP0820','KP0821','KP0823','KP0825','KP0826','KP0828','KP0830','KP0833','KP0834','KP0835','KP0836','KP0837','KP0838','KP0839','KP0842','KP0843','KP0844','KP0845','KP0846','KP0847','KP0848','KP0849','KP0850','KP0851','KP0854','KP0856','KP0857','KP0860','KP0863','KP0865','KP0866','KP0867','KP0868','KP0869','KP0870','KP0872','KP0874','KP0875','KP0877','KP0878','KP0881','KP0883','KP0884','KP0886','KP0887','KP0888','KP0889','KP0890','KP0891','KP0892','KP0895','KP0896','KP0897','KP0898','KP0899','KP0900','KP0901','KP0902','KP0903','KP0904','KP0905','KP0906','KP0907','KP0909','KP0910','KP0911','KP0912','KP0913','KP0915','KP0916','KP0917','KP0918','KP0919','KP0920','KP0921','KP0923','KP0924','KP0925','KP0926','KP0927','KP0928','KP0929','KP0930','KP0931','KP0933','KP0934','KP0936','KP0937','KP0938','KP0939','KP0940','KP0941','KP0943','KP0947','KP0948','KP0949','KP0950','KP0952','KP0953','KP0954','KP0955','KP0956','KP0957','KP0959','KP0961','KP0962','KP0963','KP0964','KP0965','KP0966','KP0967','KP0969','KP0970','KP0971','KP0972','KP0973','KP0976','KP0977','KP0978','KP0979','KP0980','KP0982','KP0983','KP0986','KP0988','KP0989','KP0990','KP0991','KP0992','KP0993','KP0994','KP0995','KP0996','KP0997','KP0998','KP0999','KP1000','KP1001','KP1002','KP1003','KP1004','KP1006','KP1007','KP1008','KP1009','KP1010','KP1011','KP1013','KP1014','KP1016','KP1017','KP1018','KP1019','KP1020','KP1021','KP1022','KP1024','KP1026','KP1027','KP1028','KP1029','KP1030','KP1031','KP1033','KP1034','KP1037','KP1039','KP1040','KP1042','KP1044','KP1045','KP1046','KP1047','KP1048','KP1049','KP1050','KP1051','KP1055','KP1057','KP1058','KP1059','KP1060','KP1061','KP1062','KP1065','KP1066','KP1067','KP1068','KP1069','KP1071','KP1072','KP1073','KP1075','KP1076','KP1077','KP1078','KP1079','KP1080','KP1082','KP1084','KP1087','KP1088','KP1089','KP1090','KP1093','KP1095','EDKP0001','KP1099','KP1100','KP1101','KP1103','KP1104','KP1105','KP1106','KP1108','KP1109','KP1110','KP1111','KP1112','KP1113','KP1114','KP1116','KP1117','KP1119','KP1121','KP1122','KP1123','KP1124','KP1125','KP1127','KP1129','KP1131','KP1132','KP1133','KP1134','KP1135','KP1136','KP1137','KP1138','KP1140','KP1141','KP1143','KP1144','KP1145','KP1147','KP1148','KP1149','KP1151','KP1152','KP1153','KP1154','KP1155','KP1156','KP1157','KP1158','KP1160','KP1161','KP1162','KP1163','KP1164','KP1165','KP1167','KP1168','KP1169','KP1170','KP1171','KP1172','KP1173','KP1174','KP1175','KP1176','KP1177','KP1178','KP1180','KP1181','KP1182','KP1183','KP1184','KP1185','KP1186','KP1187','KP1188','KP1189','KP1190','KP1191','KP1192','KP1195','KP1196','KP1197','KP1199','KP1201','KP1202','KP1203','KP1204','KP1207','KP1208','KP1209','KP1210','KP1211','KP1212','KP1213','KP1214','KP1215','KP1216','KP1218','KP1221','KP1222','KP1223','KP1224','KP1225','KP1226','KP1228','KP1229','KP1230','KP1231','KP1232','KP1235','KP1236','KP1237','KP1238','KP1239','KP1240','KP1241','KP1242','KP1243','KP1244','KP1245','KP1247','KP1248','KP1250','KP1251','KP1256','KP1257','KP1258','KP1261','KP1262','KP1263','KP1265','KP1266','KP1267','KP1268','KP1269','KP1270','KP1271','KP1274','KP1276','KP1277','KP1278','KP1279','KP1280','KP1281','KP1282','KP1283','KP1284','KP1285','KP1286','KP1287','KP1289','KP1290','KP1291','KP1292','KP1293','KP1294','KP1295','KP1297','KP1298','KP1299','KP1300','KP1301','KP1302','KP1303','KP1305','KP1306','KP1307','KP1308','KP1309','KP1310','KP1311','KP1312','KP1313','KP1316','KP1317','KP1318','KP1319','KP1320','KP1321','KP1322','KP1323','KP1324','KP1325','KP1326','KP1327','KP1328','KP1329','KP1331','KP1332','KP1333','KP1334','KP1335','KP1336','KP1337','KP1338','KP1341','KP1343','KP1344','KP1345','KP1347','KP1348','KP1349','KP1350','KP1351','KP1354','KP1356','KP1357','KP1359','KP1363','KP1364','KP1365','KP1367','KP1371','KP1372','KP1373','KP1374','KP1375','KP1377','KP1378','KP1379','KP1380','KP1381','KP1382','KP1383','KP1384','KP1385','KP1386','KP1387','KP1388','KP1390','KP1391','KP1393','KP1394','KP1395','KP1396','KP1397','KP1398','KP1400','KP1401','KP1403','KP1404','KP1405','KP1406','KP1407','KP1409','KP1410','KP1411','KP1412','KP1413','KP1414','KP1415','KP1416','KP1417','KP1420','KP1421','KP1422','KP1423','KP1425','KP1426','KP1429','KP1430','KP1431','KP1432','KP1433','KP1434','KP1435','KP1436','KP1437','KP1438','KP1439','KP1441','KP1443','KP1444','KP1445','KP1446','KP1447','KP1448','KP1449','KP1450','KP1451','KP1452','KP1453','KP1454','KP1455','KP1457','KP1458','KP1459','KP1461','KP1463','KP1464','KP1466','KP1467','KP1469','KP1470','KP1471','KP1472','KP1473','KP1475','KP1476','KP1477','KP1478','KP1479','KP1480','KP1481','KP1482','KP1483','KP1484','KP1485','KP1486','KP1487','KP1488','KP1489','KP1490','KP1491','KP1492','KP1493','KP1494','KP1495','KP1496','KP1498','KP1499','KP1500','KP1502','KP1503','KP1504','EDKP0003','KP1506','KP1508','KP1509','KP1511','KP1513','KP1514','KP1515','KP1516','KP1518','KP1519','KP1520','KP1521','KP1522','KP1524','KP1525','KP1526','KP1527','KP1528','KP1529','KP1530','KP1531','KP1532','KP1533','KP1534','KP1535','KP1536','KP1538','KP1541','KP1542','KP1543','KP1544','KP1545','KP1546','KP1548','KP1549','KP1550','KP1551','KP1552','KP1554','KP1555','KP1556','KP1557','KP1559','KP1560','KP1562','KP1563','KP1564','KP1565','KP1566','KP1567','KP1570','KP1571','KP1572','KP1573','KP1574','KP1575','KP1576','KP1577','KP1578','KP1579','KP1582','KP1584','KP1586','KP1587','KP1588','KP1589','KP1590','KP1591','KP1592','KP1593','KP1594','KP1595','KP1596','KP1597','KP1598','KP1599','KP1600','KP1601','KP1602','KP1603','KP1604','KP1605','KP1606','KP1609','KP1610','KP1611','KP1612','KP1613','KP1614','KP1616','KP1617','KP1618','KP1619','KP1620','KP1621','KP1622','KP1623','KP1624','KP1625','KP1627','KP1628','KP1629','KP1632','KP1633','KP1634','KP1635','KP1636','KP1637','KP1638','KP1639','KP1640','KP1641','KP1642','KP1643','KP1644','KP1645','KP1647','KP1648','KP1649','KP1650','KP1651','KP1652','KP1653','KP1654','KP1656','KP1658','KP1659','KP1661','KP1662','KP1663','KP1664','KP1665','KP1669','KP1670','KP1671','KP1672','KP1673','KP1674','KP1675','KP1677','KP1679','KP1680','KP1681','KP1682','KP1684','KP1685','KP1686','KP1687','KP1688','KP1689','KP1690','KP1691','KP1692','KP1694','KP1695','KP1696','KP1697','KP1698','KP1699','KP1701','KP1702','KP1703','KP1704','KP1705','KP1706','KP1707','KP1708','KP1709','KP1710','KP1712','KP1713','KP1714','KP1715','KP1716','KP1717','KP1718','KP1719','KP1720','KP1721','KP1722','KP1723','KP1724','KP1726','KP1728','KP1729','KP1730','KP1731','KP1733','KP1734','KP1735','KP1737','KP1738','KP1739','KP1740','KP1741','KP1742','KP1743','KP1744','KP1745','KP1746','KP1747','KP1748','KP1751','KP1752','KP1753','KP1754','KP1755','KP1756','KP1757','KP1758','KP1759','KP1760','KP1762','KP1765','KP1766','KP1767','KP1768','KP1769','KP1770','KP1771','KP1772','KP1773','KP1774','KP1775','KP1776','KP1777','KP1778','KP1780','KP1782','KP1784','KP1785','KP1786','KP1787','KP1788','KP1789','KP1790','KP1791','KP1792','KP1793','KP1795','KP1796','KP1797','KP1798','KP1800','KP1801','KP1802','KP1805','KP1806','KP1807','KP1809','KP1810','KP1811','KP1813','KP1815','KP1816','KP1817','KP1820','KP1821','KP1822','KP1823','KP1824','KP1825','KP1826','KP1827','KP1828','KP1829','KP1830','KP1831','KP1832','KP1833','KP1834','KP1835','KP1837','KP1838','KP1840','KP1841','KP1842','KP1843','KP1844','KP1845','KP1846','KP1847','KP1848','KP1849','KP1850','KP1851','KP1852','KP1853','KP1854','KP1855','KP1856','KP1857','KP1858','KP1861','KP1862','KP1863','KP1864','KP1865','KP1868','KP1869','KP1870','KP1871','KP1872','KP1873','KP1875','KP1876','KP1877','KP1879','KP1880','KP1881','KP1882','KP1883','KP1884','KP1885','KP1886','KP1887','KP1889','KP1890','KP1891','KP1892','KP1893','KP1894','KP1895','KP1896','KP1897','KP1898','KP1899','KP1900','KP1901','KP1902','KP1903','KP1905','KP1906','KP1907','KP1908','KP1909','KP1910','KP1911','KP1912','KP1913','KP1914','KP1915','KP1917','KP1918','KP1919','KP1920','KP1921','KP1922','KP1924','KP1925','KP1926','KP1927','KP1928','KP1930','KP1931','KP1932','KP1933','KP1936','KP1937','KP1939','KP1940','KP1941','KP1944','KP1945','KP1946','KP1948','KP1950','KP1951','KP1952','KP1954','KP1955','KP1956','KP1957','KP1958','KP1959','KP1961','KP1962','KP1967','KP1968','KP1969','KP1971','KP1972','KP1974','KP1975','KP1977','KP1978','KP1979','KP1981','KP1982','KP1983','KP1984','KP1989','KP1990','KP1991','KP1992','KP1993','KP1995','KP1996','KP1997','KP1998','KP1999','KP2000','KP2001','KP2003','KP2006','KP2008','KP2009','KP2010','KP2011','KP2012','KP2013','KP2014','KP2015','KP2016','KP2017','KP2019','KP2020','KP2022','KP2023','KP2025','KP2026','KP2028','KP2029','KP2030','KP2031','KP2032','KP2033','KP2034','KP2035','KP2036','KP2037','KP2038','KP2039','KP2040','KP2041','KP2042','KP2043','KP2044','KP2045','KP2046','KP2047','KP2048','KP2049','KP2050','KP2051','KP2053','KP2054','KP2055','KP2056','KP2058','KP2059','KP2060','KP2061','KP2062','KP2063','KP2064','KP2065','KP2066','KP2067','KP2068','KP2069','KP2070','KP2071','KP2072','KP2073','KP2074','KP2075','KP2076','KP2077','KP2078','KP2079','KP2080','KP2081','KP2082','KP2083','KP2084','KP2085','KP2086','KP2087','KP2088','KP2089','KP2091','KP2092','KP2093','KP2094','KP2096','KP2097','KP2098','KP2099','KP2100','KP2101','KP2102','KP2103','KP2104','KP2105','KP2106','KP2107','KP2109','KP2110','KP2111','KP2113','KP2114','KP2115','KP2116','KP2117','KP2118','KP2120','KP2121','KP2122','KP2123','KP2124','KP2125','KP2126','KP2127','KP2128','KP2129','KP2130','KP2131','KP2132','KP2134','KP2135','KP2136','KP2137','KP2139','KP2140') 
      AND g.stts_blast = 'n'
");
$data = mysqli_fetch_all($query, MYSQLI_ASSOC);

// === 2. Looping hasil query ===
foreach ($data as $key) {
    $hp = $key['telp_user'];
    $kode_user = $key['kode_user'];
    $paket = $key['paket'];

    // === 3. Generate token untuk user ini ===
    $payloadToken = json_encode([
        "username" => [$kode_user]
    ]);
    $curl = curl_init();
    curl_setopt_array($curl, [
        CURLOPT_URL => 'http://117.103.68.238:8082/api_v1/auth/generate_token.php',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_CUSTOMREQUEST => 'POST',
        CURLOPT_POSTFIELDS => $payloadToken,
        CURLOPT_HTTPHEADER => ['Content-Type: application/json'],
    ]);
    $tokenResponse = curl_exec($curl);
    curl_close($curl);

    $tokenData = json_decode($tokenResponse, true);
    $token = $tokenData['token'] ?? null;
    if (!$token) {
        echo "Gagal ambil token untuk $kode_user: $tokenResponse<br>";
        continue;
    }

    // === 4. Ambil detail user via API GetDetail ===
    $payloadDetail = json_encode([
        "kode_user" => [$kode_user]
    ]);
    $curl = curl_init();
    curl_setopt_array($curl, [
        CURLOPT_URL => 'http://117.103.68.238:8082/api_v1/index.php/GetDetail',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_CUSTOMREQUEST => 'POST',
        CURLOPT_POSTFIELDS => $payloadDetail,
        CURLOPT_HTTPHEADER => [
            'Content-Type: application/json',
            'Authorization: Bearer ' . $token,
            'X-OAUTH-TOKEN: oauth-demo-token',
            'X-API-KEY: key789'
        ],
    ]);
    $detailResponse = curl_exec($curl);
    curl_close($curl);

    $detailData = json_decode($detailResponse, true);
    if (!$detailData || $detailData['status'] != 'success') {
        echo "Gagal ambil detail user $kode_user: $detailResponse<br>";
        continue;
    }

    // === 5. Cari Expiration dari data API ===
    $awal = null;
    foreach ($detailData['data'] as $attr) {
        if ($attr['attribute'] == 'Expiration') {
            $awal = $attr['value'];
            break;
        }
    }
    if (!$awal) {
        echo "Expiration tidak ditemukan untuk $kode_user<br>";
        continue;
    }

    // === 6. Hitung Expiration +1 hari ===
    $awal_fmt = date("d M Y", strtotime($awal));
    $akhir_fmt = date("d M Y", strtotime("+1 day", strtotime($awal)));
    $awalBaru = date("d M Y H:i:s", strtotime("+1 day", strtotime($awal)));

    // Update DB lokal
    mysqli_query($koneksi, "
        UPDATE radcheck 
        SET value = '" . $awalBaru . "' 
        WHERE username = '" . $kode_user . "' 
          AND attribute = 'Expiration';
    ");
    mysqli_query($koneksi, "
        UPDATE tb_gundala 
        SET stts_blast = 'y' 
        WHERE id_log = " . $key['id_log'] . ";
    ");

    // === 7. Update ke API eksternal ===
    // Buat token khusus dengan payload username + expiration
    $payloadToken2 = json_encode([
        "username" => [$kode_user, $awalBaru]
    ]);
    $curl = curl_init();
    curl_setopt_array($curl, [
        CURLOPT_URL => 'http://117.103.68.238:8082/api_v1/auth/generate_token.php',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_CUSTOMREQUEST => 'POST',
        CURLOPT_POSTFIELDS => $payloadToken2,
        CURLOPT_HTTPHEADER => ['Content-Type: application/json'],
    ]);
    $respToken2 = curl_exec($curl);
    curl_close($curl);

    $tokData2 = json_decode($respToken2, true);
    $token2 = $tokData2['token'] ?? null;

    if ($token2) {
        $payloadUpdate = json_encode([
            "kode_user" => [$kode_user, $awalBaru]
        ]);
        $curl = curl_init();
        curl_setopt_array($curl, [
            CURLOPT_URL => 'http://117.103.68.238:8082/api_v1/index.php/Update_data',
            CURLOPT_RETURNTRANSFER => true,
            CURLOPT_CUSTOMREQUEST => 'POST',
            CURLOPT_POSTFIELDS => $payloadUpdate,
            CURLOPT_HTTPHEADER => [
                'Content-Type: application/json',
                'Authorization: Bearer ' . $token2,
                'X-OAUTH-TOKEN: oauth-demo-token',
                'X-API-KEY: key789'
            ],
        ]);
        $respUpdate = curl_exec($curl);
        curl_close($curl);

        echo "Update_data response untuk $kode_user: $respUpdate<br>";
    } else {
        echo "Gagal generate token Update_data untuk $kode_user: $respToken2<br>";
    }

    // === 8. Kirim WhatsApp via MaxChat API ===
    $payloadWA = [
        "to" => $hp,
        "msgType" => "text",
        "templateId" => "4c256805-6916-4a2e-bd41-bdfcfb743780",
        "values" => [
            "body" => [
                ["index" => 1, "type" => "text", "text" => $kode_user],
                ["index" => 2, "type" => "text", "text" => $paket],
                ["index" => 3, "type" => "text", "text" => $awal_fmt],
                ["index" => 4, "type" => "text", "text" => $akhir_fmt]
            ]
        ]
    ];
    $curl = curl_init();
    curl_setopt_array($curl, [
        CURLOPT_URL => 'https://app.maxchat.id/api/messages/push',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_CUSTOMREQUEST => 'POST',
        CURLOPT_POSTFIELDS => json_encode($payloadWA),
        CURLOPT_HTTPHEADER => [
            'Content-Type: application/json',
            'Authorization: Bearer j9dwest3x6s07ezeuo76e'
        ],
    ]);
    $waResponse = curl_exec($curl);
    curl_close($curl);

    echo "WA Response untuk $kode_user ($hp): $waResponse<br>";
}
?>
